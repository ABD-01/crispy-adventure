<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="ROS2 Challenge" href="ros2.html" />

    <link rel="shortcut icon" href="_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>RoboticsAcademy Challenge - JdeRobot GSoC Proposal 1.0.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=c0d4a8b4" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">JdeRobot GSoC Proposal 1.0.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/jde_robot_gsoc_logo_resized.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">JdeRobot GSoC Proposal 1.0.0</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="proposal.html">Proposal</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="python.html">Python</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="brownian.html">brownian module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpp.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros2.html">ROS2</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">RoboticsAcademy</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="roboticsacademy-challenge">
<h1>RoboticsAcademy Challenge<a class="headerlink" href="#roboticsacademy-challenge" title="Link to this heading">#</a></h1>
<p>This is my solution to the <a class="reference external" href="_static/GSoC-2024%20RoboticsAcademy%20test.pdf">RoboticsAcademy Challenge</a></p>
<section id="visual-follow-line">
<h2>Visual Follow Line<a class="headerlink" href="#visual-follow-line" title="Link to this heading">#</a></h2>
<div width="100%" align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?si=Po1TyWtwFuKh3fIw&amp;list=PLm14V2PsCoHSIUe9fpO7Uw2PiDVisftWS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div><p>This exercise requires a PID controller to drive an F1 car in race circuit. This has 2 parts:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="#computer-vision">Computer Vision</a></p></li>
<li><p><a class="reference external" href="#control-system">Control System</a></p></li>
</ol>
<section id="approach">
<h3>Approach<a class="headerlink" href="#approach" title="Link to this heading">#</a></h3>
<section id="computer-vision">
<h4>Computer Vision<a class="headerlink" href="#computer-vision" title="Link to this heading">#</a></h4>
<p>This part focuses on using OpenCv library to detect the red line in the circuit so that the controller can take actions nased on it.</p>
<p>I have used filtering in HSV space based on the if pixel value is between the given threshold. I have used two HSV thresholds for red colour to create a mask in the region of interest</p>
<p>These are outputs using indivdual thresholds</p>
<div width="100%" align="center">
<img src="_static/ra_media/Path_redbound1.jpg" width=40%/>&emsp;
<img src="_static/ra_media/Path_redbound2.jpg" width=40%/>
</div><p>Now, using both the masks together we get a better result</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">51</span><span class="n">mask1</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv</span><span class="p">,</span> <span class="n">lower_red1</span><span class="p">,</span> <span class="n">upper_red1</span><span class="p">)</span>
<span class="linenos">52</span><span class="n">mask2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">inRange</span><span class="p">(</span><span class="n">hsv</span><span class="p">,</span> <span class="n">lower_red2</span><span class="p">,</span> <span class="n">upper_red2</span><span class="p">)</span>
<span class="hll"><span class="linenos">53</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask1</span> <span class="o">|</span> <span class="n">mask2</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/Path_redbound_both.jpg"><img alt="Path using both Red Thresholds" class="align-center" src="_images/Path_redbound_both.jpg" style="width: 70%;" /></a>
<p>Next, I have used multiple ROIs instead of one, because of the curved nature of the path. For each ROIs I have found the moment and it’s distance from the center. The deviation from centre is then calculated by taking the average of these distances.</p>
<p>However, not all distances are weighted equally. The ROI in the centre has the maximum weightage, then it neighbours above and below, and so on. This way the ROI very close to the wheel and farthest from the wheel have less weightage.</p>
<p>To achive this I have used the following function</p>
<div class="highlight-python notranslate" id="create-symmetric-array"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_symmetric_array</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="n">length</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">half</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># Create an array [1, 2, ..., middle] with float dtype</span>
    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">half</span><span class="p">,</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">length</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">[</span><span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">half</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>  <span class="c1"># Concatenate arrays to form the symmetric array</span>
    <span class="n">arr</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Normalize the array so that the sum of its elements is 1</span>
    <span class="k">return</span> <span class="n">arr</span>
</pre></div>
</div>
<p>The result looks this this:</p>
<figure class="sidefigure align-center" id="id1" style="width: 70%">
<img alt="Multiple ROIs" src="_images/Rois.png" />
<figcaption>
<p><span class="caption-text">Enclosed in Green border shows different ROIs, where the white circle is their moments. Cyan colored Line shows the distance from the center and the Blue arrows represent the weightage of these distances.</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="control-system">
<h4>Control System<a class="headerlink" href="#control-system" title="Link to this heading">#</a></h4>
<p>PID controller has been used to make the car follow the line. The distance from the centre is takes as an error and used in feedback loop for the angular and linear velocity. The angular velocity uses PID while the linear velocity just uses differential controller. The reason being that the car will run a a fixed speed and slow down near turns.</p>
<section id="zieglernichols">
<h5>Ziegler–Nichols<a class="headerlink" href="#zieglernichols" title="Link to this heading">#</a></h5>
<p>I have used the <a class="reference external" href="https://en.wikipedia.org/wiki/Ziegler%E2%80%93Nichols_method">Ziegler–Nichols method</a> for tuning this PID controller.</p>
<blockquote>
<div><p>The “P” (proportional) gain, <span class="math notranslate nohighlight">\(K_{p}\)</span> is then increased (from zero) until it reaches the ultimate gain <span class="math notranslate nohighlight">\(K_{u}\)</span>, at which the output of the control loop has stable and consistent oscillations.</p>
<p>–<em>Wikipedia (Ziegler–Nichols method)</em></p>
</div></blockquote>
<p>So I increased my <span class="math notranslate nohighlight">\(K_{p}\)</span> value from <span class="math notranslate nohighlight">\(0.001\)</span> to <span class="math notranslate nohighlight">\(0.02\)</span>. The best performance I saw was at <span class="math notranslate nohighlight">\(K_{p} = 0.005\)</span> and we will see that Ziegler–Nichols method will also give the same conclusion.</p>
<p>At <span class="math notranslate nohighlight">\(K_{p} = 0.02\)</span> we have unstable oscillations that break the system. Notice the car complete deviates from the centre at the end of the movie.</p>
<p class="centered">
  <video width="60%" autoplay muted controls>
    <source src="_static/ra_media/UnSustained_Oscillation.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
</p><p>Here are the stable and consistent oscillations giving the value <span class="math notranslate nohighlight">\(K_{u} = 0.015\)</span></p>
<p class="centered">
  <video width="60%" autoplay muted loop controls>
    <source src="_static/ra_media/Sustained_Oscillation.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
</p><figure class="sidefigure align-center" id="id2" style="width: 60%">
<img alt="Sustained Oscillations" src="_images/oscillation_0.015.png" />
<figcaption>
<p><span class="caption-text">Error plot for <span class="math notranslate nohighlight">\(K_{p} = 0.015\)</span> showing stable and consistent oscillations.</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Now, with time period <span class="math notranslate nohighlight">\(T_{u} = 6 \times 20\)</span>, the values of <span class="math notranslate nohighlight">\(K_p\)</span>, <span class="math notranslate nohighlight">\(K_i\)</span> and <span class="math notranslate nohighlight">\(K_d\)</span> are found to be</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Control Type</p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(K_{p}\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(K_{i}\)</span></p></th>
<th class="head text-center"><p><span class="math notranslate nohighlight">\(K_{d}\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>some overshoot</p></td>
<td class="text-center"><p><span class="math notranslate nohighlight">\(0.0049\bar{9}\)</span></p></td>
<td class="text-center"><p><span class="math notranslate nohighlight">\(0.000083\bar{3}\)</span></p></td>
<td class="text-center"><p><span class="math notranslate nohighlight">\(0.19\bar{9}\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>I have not used these crude values directly, but tune a bit more from this point where <span class="math notranslate nohighlight">\(K_{d}\)</span> was changed to <span class="math notranslate nohighlight">\(0.002\)</span></p>
</section>
<section id="pid-test">
<h5>PID Test<a class="headerlink" href="#pid-test" title="Link to this heading">#</a></h5>
<p>After finalizing the propotional, integral and differential constants, the out put of system on disturbance was tested and gave satisfactory results.</p>
<p class="centered">
  <video width="60%" autoplay muted loop controls>
    <source src="_static/ra_media/Pid_Test.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
</p>

<div width="100%" align="center">
<img src="_static/ra_media/PID.png" width=40%/>&emsp;
<img src="_static/ra_media/PID2.png" width=40%/>
</div></section>
</section>
</section>
<section id="simulation">
<h3>Simulation<a class="headerlink" href="#simulation" title="Link to this heading">#</a></h3>
<p>For entire simuation watch the YouTube videos.</p>
<div width="100%" align="center">
<iframe width="49%" src="https://www.youtube.com/embed/ayDQqRfB7KQ?si=4MOnGT5G0ZsAKRTh" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<iframe width="49%" src="https://www.youtube.com/embed/uzrILcWKJwI?si=rs_J8S_AlONXyci4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div><p>Here are few clips showing the performance of the PID path following F1 car.</p>
<section id="simple-world">
<h4>Simple World<a class="headerlink" href="#simple-world" title="Link to this heading">#</a></h4>
<section id="corner-turn">
<h5>1. 90° Corner turn<a class="headerlink" href="#corner-turn" title="Link to this heading">#</a></h5>
<figure class="sidefigure align-center" id="id3" style="width: 70%">
<img alt="Simple World 90-degree Turn" src="_images/SimpleWorld_90-degree-turn.webp" />
<figcaption>
<p><span class="caption-text">90° Corner turn of Simple World</span><a class="headerlink" href="#id3" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="hairpin-turn">
<h5>2. Hairpin Turn<a class="headerlink" href="#hairpin-turn" title="Link to this heading">#</a></h5>
<figure class="sidefigure align-center" id="id4" style="width: 70%">
<img alt="Simple World Hairpin Turn" src="_images/SimpleWorld_hairpin-turn.webp" />
<figcaption>
<p><span class="caption-text">Hairpin turn of Simple World</span><a class="headerlink" href="#id4" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="montmelo-world">
<h4>Montmeló World<a class="headerlink" href="#montmelo-world" title="Link to this heading">#</a></h4>
<section id="la-caixa-sharp-135-left">
<h5>1. La Caixa (sharp 135° left)<a class="headerlink" href="#la-caixa-sharp-135-left" title="Link to this heading">#</a></h5>
<figure class="sidefigure align-center" id="id5" style="width: 70%">
<img alt="Montmelo World La Caixa Turn" src="_images/MontmeloWorld_LaCaixa-turn.webp" />
<figcaption>
<p><span class="caption-text">La Caixa, sharp 135° left turn of Montmelo World</span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="crash-europcar-sharp-75-right">
<h5>2. [Crash] Europcar (sharp 75° right)<a class="headerlink" href="#crash-europcar-sharp-75-right" title="Link to this heading">#</a></h5>
<figure class="sidefigure align-center" id="id6" style="width: 70%">
<img alt="Montmelo World Europcar Corner" src="_images/MontmeloWorld_Europcar-Corner.webp" />
<figcaption>
<p><span class="caption-text">Europcar corner, sharp 75° right turn of Montmelo World</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="crash-chicane">
<h5>3. [Crash] Chicane<a class="headerlink" href="#crash-chicane" title="Link to this heading">#</a></h5>
<figure class="sidefigure align-center" id="id7" style="width: 70%">
<img alt="Montmelo World Chicane" src="_images/MontmeloWorld_chicane.webp" />
<figcaption>
<p><span class="caption-text">Left-Right Chicane of Montmelo World</span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="source-code">
<h3>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">#</a></h3>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
PID_controller.py<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">The source code is available on <a class="reference external" href="https://github.com/ABD-01/crispy-adventure/tree/master/RoboticsAcademy">github</a> but has been encrypted.
To view the code follow these commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://raw.githubusercontent.com/ABD-01/crispy-adventure/master/RoboticsAcademy/PID_controller.py.data
openssl<span class="w"> </span>enc<span class="w"> </span>-aes-128-cbc<span class="w"> </span>-d<span class="w"> </span>-a<span class="w"> </span>-pbkdf2<span class="w"> </span>-in<span class="w"> </span>PID_controller.py.data<span class="w"> </span>-out<span class="w"> </span>PID_controller.py
</pre></div>
</div>
<p class="sd-card-text">The key to decrypt the file has been provided in the email.</p>
</div>
</details></section>
</section>
<section id="use-of-ai-and-symmetric-arrays">
<h2>Use of AI and Symmetric Arrays<a class="headerlink" href="#use-of-ai-and-symmetric-arrays" title="Link to this heading">#</a></h2>
<p>Why add this section? Because I read a discussion where … (you have read that part already. If not see <a class="reference external" href="./python.html">Python</a> or <a class="reference external" href="./ros2.html">ROS2</a>)</p>
<p>Honesty requires me to mention that I have used assitance of ChatGPT for <a class="reference external" href="#create-symmetric-array"><code class="docutils literal notranslate"><span class="pre">create_symmetric_array</span></code></a></p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Symmetric Arrays<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Although that is not what I intended. I wanted to weight the distances such that the weights form a normal distribution.
Something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">num</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">weights</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">num</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">num</span><span class="o">//</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
<a class="only-light reference internal image-reference" href="_images/symmetric_array_pdf.png"><img alt="Symmetric Normally Distributed Array" class="only-light align-center" src="_images/symmetric_array_pdf.png" style="width: 60%;" /></a>
<a class="only-dark reference internal image-reference" href="_images/symmetric_array_pdf(w).png"><img alt="Symmetric Normally Distributed Array" class="only-dark align-center" src="_images/symmetric_array_pdf%28w%29.png" style="width: 60%;" /></a>
<p class="sd-card-text">But what I got and moved forward with is this:</p>
<a class="only-light reference internal image-reference" href="_images/symmetric_array_step.png"><img alt="Symmetric Array" class="only-light align-center" src="_images/symmetric_array_step.png" style="width: 60%;" /></a>
<a class="only-dark reference internal image-reference" href="_images/symmetric_array_step(w).png"><img alt="Symmetric Array" class="only-dark align-center" src="_images/symmetric_array_step%28w%29.png" style="width: 60%;" /></a>
</div>
</details></section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Multiple Thresholds for Red: <a class="reference external" href="https://stackoverflow.com/questions/32522989/opencv-better-detection-of-red-color">OpenCV better detection of red color?</a></p></li>
<li><p>HSV Ranges: <a class="reference external" href="https://stackoverflow.com/questions/36817133/identifying-the-range-of-a-color-in-hsv-using-opencv">Identifying the range of a color in HSV using OpenCV</a></p></li>
<li><p>Centre of a ROI: <a class="reference external" href="https://learnopencv.com/find-center-of-blob-centroid-using-opencv-cpp-python/">Find the Center of a Blob (Centroid) using OpenCV (C++/Python)</a></p></li>
<li><p>Creating symmetric arrays <a class="reference external" href="https://stackoverflow.com/questions/37411633/how-to-generate-a-random-normal-distribution-of-integers">How to generate a random normal distribution of integers</a></p></li>
<li><p>PID Tuning: <a class="reference external" href="https://en.wikipedia.org/wiki/Ziegler%E2%80%93Nichols_method">Ziegler–Nichols method</a></p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="ros2.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">ROS2 Challenge</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Muhammed Abdullah
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/ABD-01/crispy-adventure" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">RoboticsAcademy Challenge</a><ul>
<li><a class="reference internal" href="#visual-follow-line">Visual Follow Line</a><ul>
<li><a class="reference internal" href="#approach">Approach</a><ul>
<li><a class="reference internal" href="#computer-vision">Computer Vision</a></li>
<li><a class="reference internal" href="#control-system">Control System</a><ul>
<li><a class="reference internal" href="#zieglernichols">Ziegler–Nichols</a></li>
<li><a class="reference internal" href="#pid-test">PID Test</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#simulation">Simulation</a><ul>
<li><a class="reference internal" href="#simple-world">Simple World</a><ul>
<li><a class="reference internal" href="#corner-turn">1. 90° Corner turn</a></li>
<li><a class="reference internal" href="#hairpin-turn">2. Hairpin Turn</a></li>
</ul>
</li>
<li><a class="reference internal" href="#montmelo-world">Montmeló World</a><ul>
<li><a class="reference internal" href="#la-caixa-sharp-135-left">1. La Caixa (sharp 135° left)</a></li>
<li><a class="reference internal" href="#crash-europcar-sharp-75-right">2. [Crash] Europcar (sharp 75° right)</a></li>
<li><a class="reference internal" href="#crash-chicane">3. [Crash] Chicane</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#source-code">Source Code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-of-ai-and-symmetric-arrays">Use of AI and Symmetric Arrays</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=8d563738"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>